import{R as b,r as c,j as e,W as j,y as h}from"./app-9b046937.js";import{A as N,e as f,b as u,c as g,d as v,f as w,g as y,h as k}from"./AuthenticatedLayout-03b5df5d.js";import{r as E}from"./usability-d9f844fa.js";import"./react-toastify.esm-d8334c84.js";const o=b.createContext(),$=({mahasiswa:a})=>{const[d,t]=c.useState(null),[s,r]=c.useState({id:"",nama:""});return e.jsxs(N,{children:[e.jsxs("div",{className:"flex font-bold text-3xl gap-2 border-b p-4",children:[e.jsx(f,{size:37})," Atlet"]}),e.jsx("div",{className:"flex justify-end my-3 mt-10",children:e.jsxs("button",{onClick:()=>document.getElementById("modal-add").showModal(),className:"btn btn-primary rounded-xl text-white",children:[e.jsx(u,{size:20})," Atlet"]})}),e.jsxs(o.Provider,{value:{mahasiswa:a,edit:d,setEdit:t,del:s,setDel:r},children:[e.jsx(C,{}),e.jsx(S,{}),e.jsx(_,{})]}),e.jsx(M,{})]})},C=()=>{const{mahasiswa:a,setEdit:d,setDel:t}=b.useContext(o);return e.jsxs("div",{className:"card bg-base-100 text-center shadow-xl",children:[e.jsx("div",{className:"bg-gray-700 text-center text-white rounded-t-lg p-2",children:"Daftar Atlet"}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("label",{children:e.jsx("input",{type:"checkbox",className:"checkbox"})})}),e.jsx("th",{children:"Atlet"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Status"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:a.data.map((s,r)=>e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("label",{children:e.jsx("input",{type:"checkbox",className:"checkbox"})})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"avatar",children:e.jsx("div",{className:"mask mask-squircle h-12 w-12",children:e.jsx("img",{src:`/storage/${s.foto}`,alt:"Avatar BML"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:s.name}),e.jsx("div",{className:"text-sm opacity-50",children:s.username})]})]})}),e.jsx("td",{children:s.email}),e.jsx("td",{children:s.email_verified_at===null?"Belum diverifikasi":s.aktif?"Aktif":"Tidak aktif"}),e.jsxs("th",{className:"text-center",children:[e.jsx("button",{onClick:()=>{d(s),document.getElementById("modal-edit").showModal()},className:"btn btn-ghost btn-xs",children:e.jsx(g,{color:"blue",size:17})}),e.jsx("button",{onClick:()=>{t({id:s.id,nama:s.name}),document.getElementById("modal-delete").showModal()},className:"btn btn-ghost btn-xs",children:e.jsx(v,{color:"red",size:17})})]})]},r))})]})})})]})},M=()=>{const[a,d]=c.useState(!0),{data:t,setData:s,post:r,processing:p,errors:l,reset:m}=j({name:"",username:"",email:"",password:"",is_dosen:0,is_admin:0,aktif:0}),x=()=>{const n=E(8);s("password",n)},i=n=>{n.preventDefault(),r(route("mahasiswa.store"),{onSuccess:()=>{m("password","name","email","is_dosen","is_admin","aktif"),document.getElementById("modal-add").close(),h.reload()}})};return e.jsx("dialog",{id:"modal-add",className:"modal",role:"dialog",children:e.jsxs("div",{className:"modal-box",children:[e.jsx("form",{method:"dialog",children:e.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"✕"})}),e.jsxs("h3",{className:"font-bold text-lg flex flex-row items-center gap-3 modal-title",children:[e.jsx(u,{})," Tambah Atlet"]}),e.jsxs("form",{onSubmit:i,children:[e.jsxs("label",{className:"form-control w-full mt-4",children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Nama"})}),e.jsx("input",{type:"text",value:t.name,onChange:n=>s("name",n.target.value),placeholder:"Nama mahasiswa",className:"input input-bordered w-full"}),e.jsx("div",{className:"label",children:e.jsx("span",{className:`label-text-alt text-red-500 ${l.name?"visible":"hidden"}`,children:"Nama atlet tidak boleh kosong"})})]}),e.jsxs("label",{className:"form-control w-full",children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Email"})}),e.jsx("input",{type:"text",value:t.email,onChange:n=>s("email",n.target.value),placeholder:"Email mahasiswa",className:"input input-bordered w-full"}),e.jsx("div",{className:"label",children:e.jsx("span",{className:`label-text-alt text-red-500 ${l.email?"visible":"hidden"}`,children:l.email})})]}),e.jsxs("label",{className:"form-control w-full",children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Username"})}),e.jsx("input",{type:"text",value:t.username,onChange:n=>s("username",n.target.value),placeholder:"Gunakan NPM",className:"input input-bordered w-full"}),e.jsx("div",{className:"label",children:e.jsx("span",{className:`label-text-alt text-red-500 ${l.username?"visible":"hidden"}`,children:l.username})})]}),e.jsxs("label",{className:"form-control w-full",children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Password"})}),e.jsxs("label",{className:"input input-bordered flex items-center gap-2",children:[e.jsx("input",{type:a?"password":"text",className:"grow border-none focus:ring-0 rounded-lg",value:t.password,onChange:n=>s("password",n.target.value),placeholder:"Password"}),e.jsx("button",{type:"button",onClick:()=>d(!a),children:a?e.jsx(w,{}):e.jsx(y,{})}),e.jsx("button",{type:"button",onClick:x,children:e.jsx(k,{})})]}),e.jsx("div",{className:"label",children:e.jsx("span",{className:`label-text-alt text-red-500 ${l.password?"visible":"hidden"}`,children:l.password})})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"btn btn-primary mt-5 px-5",type:"submit",children:"Simpan"})})]})]})})},S=()=>{const{edit:a,setEdit:d}=c.useContext(o),{data:t,setData:s,put:r,processing:p,errors:l,reset:m}=j({id:"",name:"",username:"",email:"",is_dosen:0,is_admin:0,aktif:0});c.useEffect(()=>{a!==null&&s({id:a.id,name:a.name,username:a.username,email:a.email,is_dosen:a.is_dosen,is_admin:a.is_admin,aktif:a.aktif})},[a]);const x=i=>{i.preventDefault(),r(route("mahasiswa.update"),{onSuccess:()=>{d(null),m("password","name","email","is_dosen","is_admin","aktif"),document.getElementById("modal-edit").close(),h.reload()}})};return e.jsx("dialog",{id:"modal-edit",className:"modal",role:"dialog",children:e.jsxs("div",{className:"modal-box",children:[e.jsx("form",{method:"dialog",children:e.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"✕"})}),e.jsxs("h3",{className:"font-bold text-lg flex flex-row items-center gap-3 modal-title",children:[e.jsx(u,{})," Edit Atlet"]}),e.jsxs("form",{onSubmit:x,children:[e.jsxs("label",{className:"form-control w-full mt-4",children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Nama"})}),e.jsx("input",{type:"text",value:t.name,onChange:i=>s("name",i.target.value),placeholder:"Nama mahasiswa",className:"input input-bordered w-full"}),e.jsx("div",{className:"label",children:e.jsx("span",{className:`label-text-alt text-red-500 ${l.name?"visible":"hidden"}`,children:"Nama atlet tidak boleh kosong"})})]}),e.jsxs("label",{className:"form-control w-full",children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Email"})}),e.jsx("input",{type:"text",value:t.email,onChange:i=>s("email",i.target.value),placeholder:"Email mahasiswa",className:"input input-bordered w-full"}),e.jsx("div",{className:"label",children:e.jsx("span",{className:`label-text-alt text-red-500 ${l.email?"visible":"hidden"}`,children:l.email})})]}),e.jsxs("label",{className:"form-control w-full",children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Username"})}),e.jsx("input",{type:"text",value:t.username,onChange:i=>s("username",i.target.value),placeholder:"Gunakan NPM",className:"input input-bordered w-full"}),e.jsx("div",{className:"label",children:e.jsx("span",{className:`label-text-alt text-red-500 ${l.username?"visible":"hidden"}`,children:l.username})})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"btn btn-primary mt-5 px-5",type:"submit",children:"Simpan"})})]})]})})},_=()=>{const{del:a,setDel:d}=c.useContext(o);return e.jsx("dialog",{id:"modal-delete",className:"modal",role:"dialog",children:e.jsxs("div",{className:"modal-box",children:[e.jsx("form",{method:"dialog",children:e.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:"✕"})}),e.jsxs("div",{className:"text-center mt-10",children:[e.jsxs("p",{className:"text-center",children:["Apakah anda yakin ingin menghapus data ",a.nama,"?"]}),e.jsxs("div",{className:"text-center",children:[e.jsx("button",{className:"btn btn-error rounded-full mt-5 px-5",onClick:()=>document.getElementById("modal-delete").close(),children:"Batal"}),e.jsx("button",{className:"btn btn-md rounded-full mt-5 px-5 ms-4",onClick:()=>{h.delete(route("mahasiswa.destroy",a.id),{onSuccess:()=>{d({id:"",nama:""}),document.getElementById("modal-delete").close()}})},children:"Hapus"})]})]})]})})};export{$ as default};
